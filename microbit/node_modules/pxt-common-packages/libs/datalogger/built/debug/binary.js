'use strict';
pxsim.noRefCounting();
pxsim.setTitle("datalogger");
pxsim.setConfigData({}, {});
pxsim.pxtrt.mapKeyNames = [
 "",
 "appendHeaders",
 "appendRow",
 "filename",
 "flush",
 "init"
];
__this.setupPerfCounters([]);


var _main___P1 = entryPoint = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = globals.zeroFx8___67;
    r0 = 0;
    globals.zeroFx8___67 = (r0);
    r0 = globals.oneFx8___68;
    r0 = 1;
    globals.oneFx8___68 = (r0);
    r0 = globals.twoFx8___69;
    r0 = 2;
    globals.twoFx8___69 = (r0);
    r0 = globals._pollEventQueue___141;
    r0 = undefined;
    globals._pollEventQueue___141 = (r0);
    r0 = globals._intervals___146;
    r0 = undefined;
    globals._intervals___146 = (r0);
    r0 = globals.minPriority___169;
    r0 = 1;
    globals.minPriority___169 = (r0);
    r0 = pxsim.Array_.mk();
    s.tmp_0 = r0;
    r0 = pxsim.Array_.push(s.tmp_0, inline__P351);
    r0 = globals.listeners___170;
    r0 = s.tmp_0;
    globals.listeners___170 = (r0);
    r0 = "\n";
    s.tmp_0 = r0;
    r0 = globals.NEW_LINE___261;
    r0 = s.tmp_0;
    globals.NEW_LINE___261 = (r0);
    r0 = pxsim.storage.init();
    r0 = "\t";
    s.tmp_0 = r0;
    r0 = globals.SEPARATOR___273;
    r0 = s.tmp_0;
    globals.SEPARATOR___273 = (r0);
    r0 = globals._headers___280;
    r0 = undefined;
    globals._headers___280 = (r0);
    r0 = globals._headersWritten___281;
    r0 = false;
    globals._headersWritten___281 = (r0);
    r0 = globals._row___282;
    r0 = undefined;
    globals._row___282 = (r0);
    r0 = globals._enabled___285;
    r0 = true;
    globals._enabled___285 = (r0);
    r0 = globals._samplingInterval___286;
    r0 = -1;
    globals._samplingInterval___286 = (r0);
    r0 = globals._sampleCount___287;
    r0 = 0;
    globals._sampleCount___287 = (r0);
    r0 = globals._lastSampleTime___288;
    r0 = -1;
    globals._lastSampleTime___288 = (r0);
    r0 = globals._console___289;
    r0 = false;
    globals._console___289 = (r0);
    r0 = pxsim.pxtcore.mkClassInstance(FileStorage__C301_VT);
    s.tmp_0 = r0;
    s.tmp_1 = { fn: FileStorage_constructor__P306, parent: s };
    r0 = s.tmp_0;
    s.tmp_1.arg0 = r0;
    r0 = "log.csv";
    s.tmp_1.arg1 = r0;
    s.pc = 2;
    return actionCall(s.tmp_1)
  case 2:
    r0 = s.retval;
    s.tmp_2 = { fn: setStorage__P295, parent: s };
    r0 = s.tmp_0;
    s.tmp_2.arg0 = r0;
    s.pc = 3;
    return actionCall(s.tmp_2)
  case 3:
    r0 = s.retval;
    r0 = globals.k___307;
    r0 = 0;
    globals.k___307 = (r0);
    s.tmp_0 = { fn: forever__P154, parent: s };
    r0 = inline__P308;
    s.tmp_0.arg0 = r0;
    s.pc = 4;
    return actionCall(s.tmp_0)
  case 4:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
_main___P1.info = {"start":0,"length":0,"line":0,"column":0,"endLine":0,"endColumn":0,"fileName":"test.ts","functionName":"<main>"}
_main___P1.continuations = [  ]



var inline__P308  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = { fn: addRow__P293, parent: s };
    s.pc = 2;
    return actionCall(s.tmp_0)
  case 2:
    r0 = s.retval;
    s.tmp_0 = { fn: addValue__P294, parent: s };
    r0 = "x";
    s.tmp_0.arg0 = r0;
    r0 = globals.k___307;
    s.tmp_0.arg1 = r0;
    s.pc = 3;
    return actionCall(s.tmp_0)
  case 3:
    r0 = s.retval;
    s.tmp_0 = { fn: addValue__P294, parent: s };
    r0 = "y";
    s.tmp_0.arg0 = r0;
    r0 = globals.k___307;
    s.tmp_1 = r0;
    r0 = (1 / s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.pc = 4;
    return actionCall(s.tmp_0)
  case 4:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P308.info = {"start":19,"length":107,"line":1,"column":8,"endLine":5,"endColumn":1,"fileName":"test.ts","functionName":"inline"}



var addValue__P294  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___313 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = globals._row___282;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_0);
    s.tmp_1 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
    { step = 2; continue; }
  case 1:
  case 2:
    r0 = globals._headers___280;
    s.tmp_3 = r0;
    r0 = globals._row___282;
    s.tmp_4 = r0;
    r0 = pxsim.Array_.length(s.tmp_4);
    s.tmp_5 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_3, s.tmp_5);
    s.tmp_6 = r0;
    r0 = s.arg0;
    s.tmp_7 = r0;
    r0 = (s.tmp_6 === s.tmp_7);
    s.tmp_8 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_8);
    if (!r0) { step = 3; continue; }
    r0 = globals._row___282;
    s.tmp_9 = r0;
    r0 = s.arg1;
    s.tmp_10 = r0;
    r0 = pxsim.Array_.push(s.tmp_9, s.tmp_10);
    { step = 6; continue; }
  case 3:
    r0 = globals._headers___280;
    s.tmp_0 = r0;
    r0 = s.arg0;
    s.tmp_1 = r0;
    r0 = pxsim.Array_.indexOf(s.tmp_0, s.tmp_1, undefined);
    s.tmp_2 = r0;
    r0 = s.i___313;
    r0 = s.tmp_2;
    s.i___313 = (r0);
    r0 = s.i___313;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 < 0);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = globals._headers___280;
    s.tmp_2 = r0;
    r0 = s.arg0;
    s.tmp_3 = r0;
    r0 = pxsim.Array_.push(s.tmp_2, s.tmp_3);
    r0 = globals._headers___280;
    s.tmp_0 = r0;
    r0 = pxsim.Array_.length(s.tmp_0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_2 = r0;
    r0 = s.i___313;
    r0 = s.tmp_2;
    s.i___313 = (r0);
    { step = 5; continue; }
  case 4:
  case 5:
    r0 = globals._row___282;
    s.tmp_0 = r0;
    s.tmp_1 = r0;
    r0 = s.i___313;
    s.tmp_2 = r0;
    r0 = s.i___313;
    s.tmp_3 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_0, s.tmp_3);
    s.tmp_4 = r0;
    r0 = s.arg1;
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_6 = r0;
    r0 = pxsim.Array_.setAt(s.tmp_1, s.tmp_2, s.tmp_6);
  case 6:
  case 7:
    r0 = s.i___313;
    return leave(s, r0)
  default: oops()
} } }
addValue__P294.info = {"start":3298,"length":400,"line":120,"column":4,"endLine":133,"endColumn":5,"fileName":"datalogger.ts","functionName":"addValue"}



var addRow__P293  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = globals._enabled___285;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_0);
    s.tmp_1 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBool(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_2;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.langsupp.ignore(s.tmp_2);
    r0 = globals._storage___284;
    s.tmp_3 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_3);
    s.tmp_4 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_4);
    { step = 2; continue; }
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_5);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
    { step = 4; continue; }
  case 3:
  case 4:
    s.tmp_6 = { fn: commitRow__P292, parent: s };
    s.pc = 6;
    return actionCall(s.tmp_6)
  case 6:
    r0 = s.retval;
    s.tmp_0 = { fn: initRow__P291, parent: s };
    s.pc = 7;
    return actionCall(s.tmp_0)
  case 7:
    r0 = s.retval;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
addRow__P293.info = {"start":2896,"length":123,"line":104,"column":4,"endLine":109,"endColumn":5,"fileName":"datalogger.ts","functionName":"addRow"}



var initRow__P291  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.s___315 = undefined;
    r0 = globals._storage___284;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_0);
    s.tmp_1 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBool(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_2;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.langsupp.ignore(s.tmp_2);
    r0 = globals._row___282;
    { step = 2; continue; }
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
    { step = 4; continue; }
  case 3:
  case 4:
    r0 = globals._headers___280;
    s.tmp_4 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_4);
    s.tmp_5 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_5);
    s.tmp_6 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_6);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.Array_.mk();
    s.tmp_7 = r0;
    r0 = globals._headers___280;
    r0 = s.tmp_7;
    globals._headers___280 = (r0);
    r0 = globals._headersWritten___281;
    r0 = false;
    globals._headersWritten___281 = (r0);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = globals._start___283;
    r0 = s.tmp_0;
    globals._start___283 = (r0);
    s.tmp_0 = { fn: initRow__P291, parent: s };
    r0 = globals._storage___284;
    s.tmp_0.arg0 = r0;
    s.pc = 8;
    pxsim.check(typeof s.tmp_0.arg0  != "number", "Can't access property of null/undefined.")
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods[0];
    return actionCall(s.tmp_0)
  case 8:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
  case 6:
    r0 = pxsim.Array_.mk();
    s.tmp_0 = r0;
    r0 = globals._row___282;
    r0 = s.tmp_0;
    globals._row___282 = (r0);
    r0 = globals._sampleCount___287;
    r0 = 1;
    globals._sampleCount___287 = (r0);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = globals._lastSampleTime___288;
    r0 = s.tmp_0;
    globals._lastSampleTime___288 = (r0);
    r0 = globals._lastSampleTime___288;
    s.tmp_0 = r0;
    r0 = globals._start___283;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 / 1000);
    s.tmp_3 = r0;
    r0 = s.s___315;
    r0 = s.tmp_3;
    s.s___315 = (r0);
    s.tmp_0 = { fn: addValue__P294, parent: s };
    r0 = "time (s)";
    s.tmp_0.arg0 = r0;
    r0 = s.s___315;
    s.tmp_0.arg1 = r0;
    s.pc = 9;
    return actionCall(s.tmp_0)
  case 9:
    r0 = s.retval;
  case 7:
    r0 = s.s___315;
    return leave(s, r0)
  default: oops()
} } }
initRow__P291.info = {"start":1084,"length":408,"line":47,"column":4,"endLine":61,"endColumn":5,"fileName":"datalogger.ts","functionName":"initRow"}



var FileStorage_init__P302  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 17, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
FileStorage_init__P302.info = {"start":359,"length":26,"line":14,"column":8,"endLine":16,"endColumn":9,"fileName":"storagedatalogger.ts","functionName":"init"}



var Storage_init__P275  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 16, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
Storage_init__P275.info = {"start":358,"length":16,"line":16,"column":8,"endLine":16,"endColumn":24,"fileName":"datalogger.ts","functionName":"init"}



var commitRow__P292  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___320 = undefined;
    r0 = globals._row___282;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.langsupp.ignore(s.tmp_0);
    r0 = globals._row___282;
    s.tmp_1 = r0;
    r0 = pxsim.Array_.length(s.tmp_1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
    { step = 2; continue; }
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim.numops.toBool(s.tmp_3);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 4; continue; }
  case 3:
    r0 = pxsim.langsupp.ignore(s.tmp_3);
    r0 = globals._storage___284;
    { step = 4; continue; }
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_4);
    if (!r0) { step = 20; continue; }
    r0 = globals._headersWritten___281;
    s.tmp_5 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_5);
    s.tmp_6 = r0;
    r0 = pxsim.Boolean_.bang(s.tmp_6);
    s.tmp_7 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    s.tmp_8 = { fn: commitRow__P292, parent: s };
    r0 = globals._storage___284;
    s.tmp_8.arg0 = r0;
    r0 = globals._headers___280;
    s.tmp_8.arg1 = r0;
    s.pc = 23;
    pxsim.check(typeof s.tmp_8.arg0  != "number", "Can't access property of null/undefined.")
    s.tmp_8.fn = s.tmp_8.arg0.vtable.methods[1];
    return actionCall(s.tmp_8)
  case 23:
    r0 = s.retval;
    r0 = globals._console___289;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = { fn: log__P175, parent: s };
    s.tmp_2 = { fn: arrayJoin__P30, parent: s };
    s.tmp_3 = { fn: arraySlice__P43, parent: s };
    r0 = globals._headers___280;
    s.tmp_3.arg0 = r0;
    r0 = 1;
    s.tmp_3.arg1 = r0;
    r0 = globals._headers___280;
    s.tmp_4 = r0;
    r0 = pxsim.Array_.length(s.tmp_4);
    s.tmp_3.arg2 = r0;
    s.pc = 26;
    return actionCall(s.tmp_3)
  case 26:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    r0 = ", ";
    s.tmp_2.arg1 = r0;
    s.pc = 25;
    return actionCall(s.tmp_2)
  case 25:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.pc = 24;
    return actionCall(s.tmp_1)
  case 24:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
  case 6:
    r0 = globals._headersWritten___281;
    r0 = true;
    globals._headersWritten___281 = (r0);
    { step = 8; continue; }
  case 7:
  case 8:
    r0 = globals._samplingInterval___286;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 <= 0);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBool(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_1;
    { step = 10; continue; }
  case 9:
    r0 = pxsim.langsupp.ignore(s.tmp_1);
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = globals._lastSampleTime___288;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.tmp_4 = r0;
    r0 = globals._samplingInterval___286;
    s.tmp_5 = r0;
    r0 = (s.tmp_4 >= s.tmp_5);
    { step = 10; continue; }
  case 10:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_6);
    if (!r0) { step = 18; continue; }
    r0 = globals._sampleCount___287;
    s.tmp_7 = r0;
    r0 = (s.tmp_7 > 1);
    s.tmp_8 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_8);
    if (!r0) { step = 14; continue; }
    r0 = s.i___320;
    r0 = 1;
    s.i___320 = (r0);
  case 11:
    r0 = s.i___320;
    s.tmp_0 = r0;
    r0 = globals._row___282;
    s.tmp_1 = r0;
    r0 = pxsim.Array_.length(s.tmp_1);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 < s.tmp_2);
    s.tmp_3 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_3);
    if (!r0) { step = 13; continue; }
    r0 = globals._row___282;
    s.tmp_4 = r0;
    s.tmp_5 = r0;
    r0 = s.i___320;
    s.tmp_6 = r0;
    r0 = s.i___320;
    s.tmp_7 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_4, s.tmp_7);
    s.tmp_8 = r0;
    r0 = globals._sampleCount___287;
    s.tmp_9 = r0;
    r0 = (s.tmp_8 / s.tmp_9);
    s.tmp_10 = r0;
    r0 = pxsim.Array_.setAt(s.tmp_5, s.tmp_6, s.tmp_10);
    r0 = s.i___320;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.tmp_1 = r0;
    r0 = s.i___320;
    r0 = s.tmp_1;
    s.i___320 = (r0);
    { step = 11; continue; }
  case 13:
    { step = 15; continue; }
  case 14:
  case 15:
    s.tmp_0 = { fn: commitRow__P292, parent: s };
    r0 = globals._storage___284;
    s.tmp_0.arg0 = r0;
    r0 = globals._row___282;
    s.tmp_0.arg1 = r0;
    s.pc = 27;
    pxsim.check(typeof s.tmp_0.arg0  != "number", "Can't access property of null/undefined.")
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods[2];
    return actionCall(s.tmp_0)
  case 27:
    r0 = s.retval;
    r0 = globals._console___289;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    s.tmp_1 = { fn: log__P175, parent: s };
    s.tmp_2 = { fn: arrayJoin__P30, parent: s };
    s.tmp_3 = { fn: arraySlice__P43, parent: s };
    r0 = globals._row___282;
    s.tmp_3.arg0 = r0;
    r0 = 1;
    s.tmp_3.arg1 = r0;
    r0 = globals._row___282;
    s.tmp_4 = r0;
    r0 = pxsim.Array_.length(s.tmp_4);
    s.tmp_3.arg2 = r0;
    s.pc = 30;
    return actionCall(s.tmp_3)
  case 30:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    r0 = ",";
    s.tmp_2.arg1 = r0;
    s.pc = 29;
    return actionCall(s.tmp_2)
  case 29:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.pc = 28;
    return actionCall(s.tmp_1)
  case 28:
    r0 = s.retval;
    { step = 17; continue; }
  case 16:
  case 17:
    r0 = globals._row___282;
    r0 = undefined;
    globals._row___282 = (r0);
    r0 = globals._sampleCount___287;
    r0 = 1;
    globals._sampleCount___287 = (r0);
    r0 = globals._lastSampleTime___288;
    r0 = -1;
    globals._lastSampleTime___288 = (r0);
    { step = 19; continue; }
  case 18:
    r0 = globals._sampleCount___287;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.tmp_1 = r0;
    r0 = globals._sampleCount___287;
    r0 = s.tmp_1;
    globals._sampleCount___287 = (r0);
  case 19:
    { step = 21; continue; }
  case 20:
  case 21:
    r0 = s.i___320;
    return leave(s, r0)
  default: oops()
} } }
commitRow__P292.info = {"start":1498,"length":1246,"line":63,"column":4,"endLine":96,"endColumn":5,"fileName":"datalogger.ts","functionName":"commitRow"}



var FileStorage_appendRow__P304  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.line___324 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 17, 17)) failedCast(r0);
    s.tmp_0 = { fn: arrayJoin__P30, parent: s };
    r0 = s.arg1;
    s.tmp_0.arg0 = r0;
    r0 = globals.SEPARATOR___273;
    s.tmp_0.arg1 = r0;
    s.pc = 2;
    return actionCall(s.tmp_0)
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.line___324;
    r0 = s.tmp_1;
    s.line___324 = (r0);
    s.tmp_0 = { fn: appendLine__P263, parent: s };
    r0 = s.arg0;
    r0 = r0.fields["filename"];
    s.tmp_0.arg0 = r0;
    r0 = s.line___324;
    s.tmp_0.arg1 = r0;
    s.pc = 3;
    return actionCall(s.tmp_0)
  case 3:
    r0 = s.retval;
    r0 = s.line___324;
    return leave(s, r0)
  default: oops()
} } }
FileStorage_appendRow__P304.info = {"start":892,"length":159,"line":31,"column":8,"endLine":34,"endColumn":9,"fileName":"storagedatalogger.ts","functionName":"appendRow"}



var appendLine__P263  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = { fn: append__P264, parent: s };
    r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    r0 = s.arg1;
    s.tmp_0.arg1 = r0;
    s.pc = 2;
    return actionCall(s.tmp_0)
  case 2:
    r0 = s.retval;
    s.tmp_0 = { fn: append__P264, parent: s };
    r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    r0 = globals.NEW_LINE___261;
    s.tmp_0.arg1 = r0;
    s.pc = 3;
    return actionCall(s.tmp_0)
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
appendLine__P263.info = {"start":536,"length":140,"line":20,"column":4,"endLine":23,"endColumn":5,"fileName":"pxt_modules/storage/storage.ts","functionName":"appendLine"}



var append__P264  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = s.arg1;
    s.tmp_1 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.storage.appendBuffer(s.tmp_0, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
append__P264.info = {"start":904,"length":130,"line":31,"column":4,"endLine":33,"endColumn":5,"fileName":"pxt_modules/storage/storage.ts","functionName":"append"}



var Storage_appendRow__P277  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 16, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
Storage_appendRow__P277.info = {"start":553,"length":37,"line":24,"column":8,"endLine":24,"endColumn":45,"fileName":"datalogger.ts","functionName":"appendRow"}



var arraySlice__P43  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___334 = undefined;
    s.len___335 = undefined;
    s.i___336 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Array_.mk();
    s.tmp_0 = r0;
    r0 = s.res___334;
    r0 = s.tmp_0;
    s.res___334 = (r0);
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = pxsim.Array_.length(s.tmp_0);
    s.tmp_1 = r0;
    r0 = s.len___335;
    r0 = s.tmp_1;
    s.len___335 = (r0);
    r0 = s.arg1;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 1; continue; }
    r0 = s.arg1;
    r0 = 0;
    s.arg1 = (r0);
    { step = 4; continue; }
  case 1:
    r0 = s.arg1;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 < 0);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    s.tmp_2 = { fn: max__P50, parent: s };
    r0 = s.len___335;
    s.tmp_3 = r0;
    r0 = s.arg1;
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2.arg0 = r0;
    r0 = 0;
    s.tmp_2.arg1 = r0;
    s.pc = 18;
    return actionCall(s.tmp_2)
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = s.arg1;
    r0 = s.tmp_5;
    s.arg1 = (r0);
    { step = 3; continue; }
  case 2:
  case 3:
  case 4:
    r0 = s.arg1;
    s.tmp_0 = r0;
    r0 = s.len___335;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 > s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    r0 = s.res___334;
    { step = 16; continue; }
    { step = 6; continue; }
  case 5:
  case 6:
    r0 = s.arg2;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 === undefined);
    s.tmp_4 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_4);
    if (!r0) { step = 7; continue; }
    r0 = s.len___335;
    s.tmp_5 = r0;
    r0 = s.arg2;
    r0 = s.tmp_5;
    s.arg2 = (r0);
    { step = 10; continue; }
  case 7:
    r0 = s.arg2;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 < 0);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.len___335;
    s.tmp_2 = r0;
    r0 = s.arg2;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_4 = r0;
    r0 = s.arg2;
    r0 = s.tmp_4;
    s.arg2 = (r0);
    { step = 9; continue; }
  case 8:
  case 9:
  case 10:
    r0 = s.arg2;
    s.tmp_0 = r0;
    r0 = s.len___335;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 > s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 11; continue; }
    r0 = s.len___335;
    s.tmp_3 = r0;
    r0 = s.arg2;
    r0 = s.tmp_3;
    s.arg2 = (r0);
    { step = 12; continue; }
  case 11:
  case 12:
    r0 = s.arg1;
    s.tmp_0 = r0;
    r0 = s.i___336;
    r0 = s.tmp_0;
    s.i___336 = (r0);
  case 13:
    r0 = s.i___336;
    s.tmp_0 = r0;
    r0 = s.arg2;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 15; continue; }
    r0 = s.res___334;
    s.tmp_3 = r0;
    r0 = s.arg0;
    s.tmp_4 = r0;
    r0 = s.i___336;
    s.tmp_5 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_4, s.tmp_5);
    s.tmp_6 = r0;
    r0 = pxsim.Array_.push(s.tmp_3, s.tmp_6);
    r0 = s.i___336;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.tmp_1 = r0;
    r0 = s.i___336;
    r0 = s.tmp_1;
    s.i___336 = (r0);
    { step = 13; continue; }
  case 15:
    r0 = s.res___334;
    { step = 16; continue; }
  case 16:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.res___334;
    r0 = s.len___335;
    r0 = s.i___336;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
arraySlice__P43.info = {"start":5919,"length":690,"line":193,"column":4,"endLine":218,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySlice"}



var max__P50  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = s.arg1;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 >= s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
    { step = 3; continue; }
  case 3:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
max__P50.info = {"start":9502,"length":105,"line":323,"column":4,"endLine":326,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"max"}



var arrayJoin__P30  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___342 = undefined;
    s.len___343 = undefined;
    s.i___344 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.String_.mkEmpty();
    s.tmp_0 = r0;
    r0 = s.r___342;
    r0 = s.tmp_0;
    s.r___342 = (r0);
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = pxsim.Array_.length(s.tmp_0);
    s.tmp_1 = r0;
    r0 = s.len___343;
    r0 = s.tmp_1;
    s.len___343 = (r0);
    r0 = s.i___344;
    r0 = 0;
    s.i___344 = (r0);
  case 1:
    r0 = s.i___344;
    s.tmp_0 = r0;
    r0 = s.len___343;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 9; continue; }
    r0 = s.i___344;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 0);
    s.tmp_4 = r0;
    r0 = pxsim.numops.toBool(s.tmp_4);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_4;
    { step = 3; continue; }
  case 2:
    r0 = pxsim.langsupp.ignore(s.tmp_4);
    r0 = s.arg1;
    { step = 3; continue; }
  case 3:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_5);
    if (!r0) { step = 4; continue; }
    r0 = s.r___342;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 12);
    pxsim.String_.stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = s.arg1;
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 13);
    pxsim.String_.stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim.String_.concat(s.tmp_7, s.tmp_9);
    s.tmp_10 = r0;
    r0 = s.r___342;
    r0 = s.tmp_10;
    s.r___342 = (r0);
    { step = 5; continue; }
  case 4:
  case 5:
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = s.i___344;
    s.tmp_1 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_0, s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBool(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 6:
    r0 = pxsim.langsupp.ignore(s.tmp_2);
    r0 = pxsim.String_.mkEmpty();
    { step = 7; continue; }
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.r___342;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 14);
    pxsim.String_.stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 15);
    pxsim.String_.stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim.String_.concat(s.tmp_5, s.tmp_6);
    s.tmp_7 = r0;
    r0 = s.r___342;
    r0 = s.tmp_7;
    s.r___342 = (r0);
    r0 = s.i___344;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.tmp_1 = r0;
    r0 = s.i___344;
    r0 = s.tmp_1;
    s.i___344 = (r0);
    { step = 1; continue; }
  case 9:
    r0 = s.r___342;
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.r___342;
    r0 = s.len___343;
    r0 = s.i___344;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
arrayJoin__P30.info = {"start":1740,"length":305,"line":67,"column":4,"endLine":76,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayJoin"}



var log__P175  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = { fn: add__P171, parent: s };
    r0 = 1;
    s.tmp_0.arg0 = r0;
    r0 = s.arg0;
    s.tmp_0.arg1 = r0;
    s.pc = 2;
    return actionCall(s.tmp_0)
  case 2:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
log__P175.info = {"start":1439,"length":87,"line":57,"column":4,"endLine":59,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"log"}



var add__P171  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___349 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = globals.minPriority___169;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    s.tmp_2 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    { step = 6; continue; }
    { step = 2; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 7);
    pxsim.String_.stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim.String_.concat(s.tmp_4, "\n");
    s.tmp_5 = r0;
    r0 = s.arg1;
    r0 = s.tmp_5;
    s.arg1 = (r0);
    r0 = s.i___349;
    r0 = 0;
    s.i___349 = (r0);
  case 3:
    r0 = s.i___349;
    s.tmp_0 = r0;
    r0 = globals.listeners___170;
    s.tmp_1 = r0;
    r0 = pxsim.Array_.length(s.tmp_1);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 < s.tmp_2);
    s.tmp_3 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = { fn: add__P171, parent: s };
    r0 = globals.listeners___170;
    s.tmp_5 = r0;
    r0 = s.i___349;
    s.tmp_6 = r0;
    r0 = pxsim.Array_.getAt(s.tmp_5, s.tmp_6);
    s.tmp_4.argL = r0;
    r0 = s.arg0;
    s.tmp_4.arg0 = r0;
    r0 = s.arg1;
    s.tmp_4.arg1 = r0;
    s.pc = 8;
    setupLambda(s.tmp_4, s.tmp_4.argL);
    return actionCall(s.tmp_4)
  case 8:
    r0 = s.retval;
    r0 = s.i___349;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.tmp_1 = r0;
    r0 = s.i___349;
    r0 = s.tmp_1;
    s.i___349 = (r0);
    { step = 3; continue; }
  case 5:
  case 6:
    r0 = s.i___349;
    return leave(s, r0)
  default: oops()
} } }
add__P171.info = {"start":632,"length":280,"line":28,"column":4,"endLine":35,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"add"}



var inline__P351  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = s.arg1;
    s.tmp_1 = r0;
    r0 = pxsim.control.__log(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P351.info = {"start":534,"length":85,"line":25,"column":8,"endLine":25,"endColumn":93,"fileName":"pxt_modules/base/console.ts","functionName":"inline"}



var FileStorage_appendHeaders__P303  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.line___356 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 17, 17)) failedCast(r0);
    r0 = s.arg0;
    r0 = r0.fields["filename"];
    s.tmp_0 = r0;
    r0 = pxsim.storage.exists(s.tmp_0);
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
  case 2:
    s.tmp_2 = { fn: arrayJoin__P30, parent: s };
    r0 = s.arg1;
    s.tmp_2.arg0 = r0;
    r0 = globals.SEPARATOR___273;
    s.tmp_2.arg1 = r0;
    s.pc = 4;
    return actionCall(s.tmp_2)
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.line___356;
    r0 = s.tmp_3;
    s.line___356 = (r0);
    s.tmp_0 = { fn: appendLine__P263, parent: s };
    r0 = s.arg0;
    r0 = r0.fields["filename"];
    s.tmp_0.arg0 = r0;
    r0 = globals.SEPARATOR___273;
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 6);
    pxsim.String_.stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.String_.concat("sep=", s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.pc = 5;
    return actionCall(s.tmp_0)
  case 5:
    r0 = s.retval;
    s.tmp_0 = { fn: appendLine__P263, parent: s };
    r0 = s.arg0;
    r0 = r0.fields["filename"];
    s.tmp_0.arg0 = r0;
    r0 = s.line___356;
    s.tmp_0.arg1 = r0;
    s.pc = 7;
    return actionCall(s.tmp_0)
  case 7:
    r0 = s.retval;
  case 3:
    r0 = s.line___356;
    return leave(s, r0)
  default: oops()
} } }
FileStorage_appendHeaders__P303.info = {"start":460,"length":366,"line":20,"column":8,"endLine":27,"endColumn":9,"fileName":"storagedatalogger.ts","functionName":"appendHeaders"}



var Storage_appendHeaders__P276  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 16, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
Storage_appendHeaders__P276.info = {"start":445,"length":42,"line":20,"column":8,"endLine":20,"endColumn":50,"fileName":"datalogger.ts","functionName":"appendHeaders"}



var forever__P154  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = pxsim.loops.forever(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
forever__P154.info = {"start":8397,"length":63,"line":274,"column":0,"endLine":276,"endColumn":1,"fileName":"pxt_modules/base/control.ts","functionName":"forever"}



var FileStorage_constructor__P306  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 17, 17)) failedCast(r0);
    s.tmp_0 = { fn: Storage_constructor__P279, parent: s };
    r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    s.pc = 3;
    return actionCall(s.tmp_0)
  case 3:
    r0 = s.retval;
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = s.arg1;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["filename"] = (s.tmp_1);
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
FileStorage_constructor__P306.info = {"start":192,"length":99,"line":7,"column":8,"endLine":10,"endColumn":9,"fileName":"storagedatalogger.ts","functionName":"inline"}



var Storage_constructor__P279  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 16, 17)) failedCast(r0);
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
Storage_constructor__P279.info = {"start":265,"length":25,"line":11,"column":8,"endLine":12,"endColumn":9,"fileName":"datalogger.ts","functionName":"inline"}



var setStorage__P295  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = { fn: flush__P296, parent: s };
    s.pc = 2;
    return actionCall(s.tmp_0)
  case 2:
    r0 = s.retval;
    r0 = s.arg0;
    s.tmp_0 = r0;
    r0 = globals._storage___284;
    r0 = s.tmp_0;
    globals._storage___284 = (r0);
    s.tmp_0 = { fn: clear__P290, parent: s };
    s.pc = 3;
    return actionCall(s.tmp_0)
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
setStorage__P295.info = {"start":3782,"length":114,"line":140,"column":4,"endLine":144,"endColumn":5,"fileName":"datalogger.ts","functionName":"setStorage"}



var clear__P290  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = globals._headers___280;
    r0 = undefined;
    globals._headers___280 = (r0);
    r0 = globals._row___282;
    r0 = undefined;
    globals._row___282 = (r0);
    return leave(s, r0)
  default: oops()
} } }
clear__P290.info = {"start":998,"length":80,"line":42,"column":4,"endLine":45,"endColumn":5,"fileName":"datalogger.ts","functionName":"clear"}



var flush__P296  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = globals._headers___280;
    s.tmp_0 = r0;
    r0 = pxsim.numops.toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.langsupp.ignore(s.tmp_0);
    r0 = globals._storage___284;
    { step = 2; continue; }
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim.numops.toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = { fn: flush__P296, parent: s };
    r0 = globals._storage___284;
    s.tmp_2.arg0 = r0;
    s.pc = 6;
    pxsim.check(typeof s.tmp_2.arg0  != "number", "Can't access property of null/undefined.")
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods[3];
    return actionCall(s.tmp_2)
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
  case 4:
    return leave(s, r0)
  default: oops()
} } }
flush__P296.info = {"start":3966,"length":95,"line":150,"column":4,"endLine":153,"endColumn":5,"fileName":"datalogger.ts","functionName":"flush"}



var FileStorage_flush__P305  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 17, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
FileStorage_flush__P305.info = {"start":1121,"length":27,"line":38,"column":8,"endLine":40,"endColumn":9,"fileName":"storagedatalogger.ts","functionName":"flush"}



var Storage_flush__P278  = function (s) {
var r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, 16, 17)) failedCast(r0);
    return leave(s, r0)
  default: oops()
} } }
Storage_flush__P278.info = {"start":660,"length":17,"line":28,"column":8,"endLine":28,"endColumn":25,"fileName":"datalogger.ts","functionName":"flush"}

var Storage__C274_VT = {
  name: "Storage",
  numFields: 0,
  classNo: 16,
  methods: [
    Storage_init__P275,
    Storage_appendHeaders__P276,
    Storage_appendRow__P277,
    Storage_flush__P278,
  ],
  iface: {
    "init": Storage_init__P275,
    "appendHeaders": Storage_appendHeaders__P276,
    "appendRow": Storage_appendRow__P277,
    "flush": Storage_flush__P278,
  },
};
var FileStorage__C301_VT = {
  name: "FileStorage",
  numFields: 1,
  classNo: 17,
  methods: [
    FileStorage_init__P302,
    FileStorage_appendHeaders__P303,
    FileStorage_appendRow__P304,
    FileStorage_flush__P305,
  ],
  iface: {
    "filename": 13,
    "set/filename": 13,
    "init": FileStorage_init__P302,
    "appendHeaders": FileStorage_appendHeaders__P303,
    "appendRow": FileStorage_appendRow__P304,
    "flush": FileStorage_flush__P305,
  },
};

setupDebugger(1)
